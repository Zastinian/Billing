---
import { getLangFromUrl, useTranslatedPath } from "@/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const translatePath = useTranslatedPath(lang);

const discordUrl = "https://discord.gg/";
---

<nav class="main-header navbar navbar-expand navbar-dark">
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
        </li>
        <li class="nav-item dropdown">
            <a
                id="storeMenu"
                href="javascript:void(0);"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
                class="nav-link dropdown-toggle">Store</a
            >
            <ul aria-labelledby="storeMenu" class="dropdown-menu border-0 shadow">
                <li><a href={translatePath("/")} class="dropdown-item">Home</a></li>
                <div class="dropdown-divider"></div>
                <li class="dropdown-submenu dropdown-hover">
                    <a
                        id="plansMenu"
                        href="javascript:void(0);"
                        role="button"
                        data-toggle="dropdown"
                        aria-haspopup="true"
                        aria-expanded="false"
                        class="dropdown-item dropdown-toggle">Plans</a
                    >
                    <ul aria-labelledby="plansMenu" class="dropdown-menu border-0 shadow">
                        <li><a href={translatePath("/plans")} class="dropdown-item">View All Plans</a></li>
                        <div class="dropdown-divider"></div>
                        <li><a href={translatePath("/plans/1")} class="dropdown-item">Plan 1</a></li>
                        <li><a href={translatePath("/plans/2")} class="dropdown-item">Plan 2</a></li>
                    </ul>
                </li>
                <li><a href={discordUrl} class="dropdown-item">Discord</a></li>
                <li><a href={translatePath("/kb")} class="dropdown-item">Knowledge Base</a></li>
                <li><a href={translatePath("/status")} class="dropdown-item">System Status</a></li>
            </ul>
        </li>
    </ul>
    <ul class="navbar-nav ml-auto">
        <li class="nav-item dropdown">
            <a
                id="accountMenu"
                href="javascript:void(0);"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
                class="nav-link dropdown-toggle">contact@zastinian.com</a
            >
            <ul aria-labelledby="accountMenu" class="dropdown-menu dropdown-menu-right border-0 shadow">
                <li><a href={translatePath("/client/credits")} class="dropdown-item">Account Credit</a></li>
                <li><a href={translatePath("/client/settings")} class="dropdown-item">Account Settings</a></li>
                <li><a href={translatePath("/admin")} class="dropdown-item">Admin Area</a></li>
                <div class="dropdown-divider"></div>
                <li><a href="/logout" class="dropdown-item">Logout</a></li>
            </ul>
        </li>
    </ul>
</nav>
