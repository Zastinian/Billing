---
const { id } = Astro.params;

import Layout from "@/layouts/admin/Layout.astro";
import View from "@/views/admin/clients/View.astro";
import { clients } from "@/database/index";

const client = await clients.findOneBy({ id: Number(id) });

if (!client) {
  return Astro.redirect("/admin/clients");
}
---

<Layout title={client.email} route="admin.clients" items={[{ title: "Dashboard", url: "/admin" }, { title: "Clients", url: "/admin/clients" }]}>
    <View client={client} />
</Layout>
